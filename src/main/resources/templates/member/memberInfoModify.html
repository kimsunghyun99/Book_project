<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>회원정보변경</title>

    <style>
        body {
            font-family: Arial, sans-serif;
        }
        form {
            max-width: 400px;
            margin: 0 auto;
        }
        label {
            display: block;
            margin-bottom: 8px;
        }
        input {
            width: 100%;
            padding: 8px;
            margin-bottom: 16px;
            box-sizing: border-box;
        }
        button {
            background-color: #4CAF50;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        button:hover {
            background-color: #45a049;
        }

        #aa {
            margin: 0 auto;

            text-align:center;

        }

        .btn_write {
            display:inline-block;
            width: 20%; /* 원하는 폭으로 조절하세요 */
            font-size: 18px;
            padding: 10px;
            box-sizing: border-box;
        }
        .btn_cancel {
            display:inline-block;
            width: 20%; /* 원하는 폭으로 조절하세요 */
            font-size: 18px;
            padding: 10px;
            box-sizing: border-box;
        }

        input[type="radio"] {
            display: inline-block;
            vertical-align: middle; /* 수직 정렬 추가 */
            margin-bottom: 0; /* 여백 제거 */
        }

        label {
            display: inline-block;
            vertical-align: middle; /* 수직 정렬 추가 */
            margin-bottom: 8px;
        }

        form input[type="radio"] + input[type="radio"] {
            margin-left: 10px;
        }

        #ADDorDelete {
            display: flex;
            justify-content: flex-end;
            margin-top: 10px; /* 원하는 여백 값으로 조절하세요 */
        }

        #add, #delete {
            width:20px;
            font-size: 14px; /* 원하는 글자 크기로 조절하세요 */
            padding: 5px 10px; /* 원하는 패딩 값으로 조절하세요 */
            margin-left: 5px; /* 각 버튼 사이 여백 조절 */
            text-align:center;
        }
        #addplus {
            display: none;
        }

        #interests1 {
            display:none;
        }

    </style>

    <script>


        // select 변경 시 호출되는 함수
        function handleInterestChange() {
            var selectElement = document.getElementById('interests');
            var inputElement = document.getElementById('interests1');

            if (selectElement.value === 'INPUT') {
                inputElement.style.display = 'block';
            } else {
                inputElement.style.display = 'none';
            }

        }

        let addplusVisible = false;
        const AddAddr = () => {
            if (addplusVisible) {
                addplus.style.display = 'none'; // 이미 보이는 상태면 감추기
            } else {
                addplus.style.display = 'block'; // 안 보이는 상태면 보이기
            }

            addplusVisible = !addplusVisible; // 상태를 토글

        }


    </script>


</head>
<body>

<h1>회원정보 변경</h1>

<label for="username">사용자 이름:</label>
<input type="text" id="username" name="username" th:value="${memberInfo.username}" placeholder="이름을 입력하세요" required>

<label for="nickname">닉네임:</label>
<input type="text" id="nickname" name="nickname" th:value="${memberInfo.nickname}" placeholder="닉네임을 입력하세요" required>


<input type="text" id="telno" class="input_field" name="telno" th:value="${memberInfo.telno}" placeholder="전화번호를 입력하세요" >

<h4 style="display: inline-block;">배송지 목록</h4>
<div id="ADDorDelete" style="display: inline-block;">
    <input type="button" id="add" value="+" onclick="AddAddr()">
    <input type="button" id="delete" value="-">
</div>

<table class="InfoTable">
    <tr>
        <th>번호</th>
        <th>주소</th>
        <th>우편번호</th>
    </tr>
    <th:block th:if="${list != null}">

        <tr th:each="list:${list}">
        <td th:text="${list.deliveryseq}"></td>
        <td th:text="${list.addr} + ' ' + ${list.detailaddr}" ></td>
        <td th:text="${list.zipcode}"></td>
        </tr>
    </th:block>
    </table>

    <div id="addplus">
<input type="text" id="addrSearch" name="addrSearch" class="addrSearch"  placeholder="주소를 검색합니다.">
<input type="button" id="btn_addSearch" class="btn_addrSearch" value="주소검색" onclick="searchAddr()">
<input type="text" id="zipcode" class="input_field" name="zipcode" placeholder="우편번호가 검색되어 입력됩니다." readonly>
<input type="text" id="addr" class="input_field" name="addr"  placeholder="주소가 검색되어 입력됩니다." readonly>
<input type="text" id="detailaddr" class="input_field" name="detailaddr" placeholder="상세 주소를 입력하세요">
</div>
<br><br><br>
관심분야 :
<select id="interests" name="interests" onchange="handleInterestChange()">
    <option value="all" disabled selected>관심분야 ▼</option>
    <option value="JAVA">JAVA</option>
    <option value="PYTHON">PYTHON</option>
    <option value="C">C</option>
    <option value="C#">C#</option>
    <option value="C++">C++</option>
    <option value="PHP">PHP</option>
    <option value="REACT">REACT</option>
    <option value="VIEW">VIEW</option>
    <option value="JS">JS</option>
    <option value="ANDROID">ANDROID</option>
    <option value="INPUT">직접입력</option>
</select>

<br><br>
<input type="text" id="interests1" class="input_field" name="interests1" placeholder="직접입력">


<div id="aa">
<input type="button" id="btnRegister" class="btn_write" value="수정" onclick="">
<input type="button" class="btn_cancel" value="취소" onclick="history.back()">
</div>


<script>
    const btnRegister = document.getElementById('btnRegister');
    btnRegister.addEventListener('click',async ()=> {

        if(username.value == '') {
            alert("이름을 입력하세요");
            username.focus();
            return false;

            if(zipcode.value == '') {
                alert("우편번호를 입력하세요");
                zipcode.focus();
                return false;
            }
            if(detailaddr.value == '') {
                alert("상세 주소를 입력하세요");
                detailaddr.focus();
                return false;
            }
            if(telno.value == '') {
                alert("전화번호를 입력하세요");
                telno.focus();
                return false;
            }
            const beforeTelno = telno.value;
            const afterTelno = beforeTelno.replace(/\-/ig,"").replace(/\ /ig,"").trim();
            telno.value = afterTelno;


        }

        //     const formData = new FormData(RegistryForm);
        //
        //
        //     await fetch('/member/memberInfoModify', {
        //     method: 'POST',
        //     body: formData
        // }).then((response)=> response.json())
        //     .then((data)=> {
        //     console.log(data.message);
        //     if(data.message === 'GOOD'){
        //     alert("수정되었습니다.");
        //     document.location.href='/product/main';
        // } else {
        //     alert("서버 장애로 수정에 실패했습니다.");
        // }
        // }).catch((error)=> {
        //     console.log("error = " + error);
        // });

    });


    const searchAddr = () => {

        if(addrSearch.value == '') {
            alert("검색할 주소를 입력하세요");
            addrSearch.focus();
            return false;
        }

        window.open(
            "/member/addrSearch?page=1&addrSearch=" + addrSearch.value,
            "주소검색",
            "width=950, height=540, top=50, left=50"
        );
    }






</script>

</body>
</html>